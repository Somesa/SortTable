/* Copyright (c) 2006-2013 Tyler Uebele * Released under the MIT license. * latest at https://github.com/tyleruebele/sort-table * minified by Google Closure Compiler */
function sortTable(a,b,c){var d;sortTable.sortCol=-1;d=a.className.match(/js-sort-\d+/);null!=d&&(sortTable.sortCol=d[0].replace(/js-sort-/,""),a.className=a.className.replace(RegExp(" ?"+d[0]+"\\b"),""));"undefined"===typeof b&&(b=sortTable.sortCol);"undefined"!==typeof c?sortTable.sortDir=-1==c||"desc"==c?-1:1:(d=a.className.match(/js-sort-(a|de)sc/),sortTable.sortDir=null!=d&&sortTable.sortCol==b?"js-sort-asc"==d[0]?-1:1:1);a.className=a.className.replace(/ ?js-sort-(a|de)sc/g,"");a.className+=
" js-sort-"+b;sortTable.sortCol=b;a.className+=" js-sort-"+(-1==sortTable.sortDir?"desc":"asc");d=a.tHead.rows[a.tHead.rows.length-1].cells[b].className.match(/js-sort-[-\w]+/);sortTable.sortFunc=null!=d?d[0].replace(/js-sort-/,""):"string";b=[];a=a.tBodies[0];for(c=0;c<a.rows.length;c++)b[c]=a.rows[c];for(b.sort(sortTable.compareRow);a.firstChild;)a.removeChild(a.firstChild);for(c=0;c<b.length;c++)a.appendChild(b[c])}
sortTable.compareRow=function(a,b){var c,d;"function"!=typeof sortTable[sortTable.sortFunc]&&(sortTable.sortFunc="string");c=sortTable[sortTable.sortFunc](a.cells[sortTable.sortCol]);d=sortTable[sortTable.sortFunc](b.cells[sortTable.sortCol]);return c==d?0:sortTable.sortDir*(c>d?1:-1)};sortTable.stripTags=function(a){return a.replace(/<\/?[a-z][a-z0-9]*\b[^>]*>/gi,"")};sortTable.date=function(a){return new Date(sortTable.stripTags(a.innerHTML))};
sortTable.number=function(a){return Number(sortTable.stripTags(a.innerHTML).replace(/\$|%|,/g,""))};sortTable.string=function(a){return sortTable.stripTags(a.innerHTML).toLowerCase()};sortTable.last=function(a){return sortTable.stripTags(a.innerHTML).split(" ").pop().toLowerCase()};sortTable.input=function(a){for(var b=0;b<a.children.length;b++)if("object"==typeof a.children[b]&&"undefined"!=typeof a.children[b].value)return a.children[b].value.toLowerCase();return sortTable.string(a)};
sortTable.init=function(){for(var a,b=document.querySelectorAll("table.js-sort-table"),c=0;c<b.length;c++)if(!b[c].hasAttribute("data-js-sort-table")){b[c].tHead?a=b[c].tHead:(a=document.createElement("thead"),a.appendChild(b[c].rows[0]),b[c].insertBefore(a,b[c].children[0]));for(var d=0;d<a.rows.length;d++)for(var e=0,f=0;e<a.rows[d].cells.length;e++)a.rows[d].cells[e].addEventListener("click",function(a,b){return function(){sortTable(a,b)}}(b[c],f)),f+=a.rows[d].cells[e].colSpan;b[c].setAttribute("data-js-sort-table",
"true")}};window.addEventListener?window.addEventListener("load",sortTable.init,!1):window.attachEvent&&window.attachEvent("onload",sortTable.init);
