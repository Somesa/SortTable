/* Copyright (c) 2006-2013 Tyler Uebele * Released under the MIT license. * latest at https://github.com/tyleruebele/sort-table * minified by Google Closure Compiler */
function sortTable(a,c){var b;sortTable.sortCol=-1;b=a.className.match(/js-sort-\d+/);null!=b&&(sortTable.sortCol=b[0].replace(/js-sort-/,""),a.className=a.className.replace(RegExp(" ?"+b[0]+"\\b"),""));sortTable.sortDir=1;b=a.className.match(/js-sort-(a|de)sc/);null!=b&&sortTable.sortCol==c&&(sortTable.sortDir="js-sort-asc"==b[0]?-1:1);a.className=a.className.replace(/ ?js-sort-(a|de)sc/g,"");a.className+=" js-sort-"+c;sortTable.sortCol=c;a.className+=" js-sort-"+(-1==sortTable.sortDir?"desc":"asc");
b=a.tHead.rows[a.tHead.rows.length-1].cells[c].className.match(/js-sort-[-\w]+/);sortTable.sortFunc=null!=b?b[0].replace(/js-sort-/,""):"string";b=[];for(var d=a.tBodies[0],e=0;e<d.rows.length;e++)b[e]=d.rows[e];for(b.sort(sortTable.compareRow);d.firstChild;)d.removeChild(d.firstChild);for(e=0;e<b.length;e++)d.appendChild(b[e])}
sortTable.compareRow=function(a,c){var b,d;"function"!=typeof sortTable[sortTable.sortFunc]&&(sortTable.sortFunc="string");b=sortTable[sortTable.sortFunc](a.cells[sortTable.sortCol]);d=sortTable[sortTable.sortFunc](c.cells[sortTable.sortCol]);return b==d?0:sortTable.sortDir*(b>d?1:-1)};sortTable.stripTags=function(a){return a.replace(/<\/?[a-z][a-z0-9]*\b[^>]*>/gi,"")};sortTable.date=function(a){return new Date(sortTable.stripTags(a.innerHTML))};
sortTable.number=function(a){return Number(sortTable.stripTags(a.innerHTML).replace(/\$|%|,/,""))};sortTable.string=function(a){return sortTable.stripTags(a.innerHTML).toLowerCase()};sortTable.last=function(a){return sortTable.stripTags(a.innerHTML).split(" ").pop().toLowerCase()};sortTable.input=function(a){for(var c=0;c<a.children.length;c++)if("object"==typeof a.children[c]&&"undefined"!=typeof a.children[c].value)return a.children[c].value.toLowerCase();return sortTable.string(a)};
sortTable.init=function(){for(var a,c=document.querySelectorAll("table.js-sort-table"),b=0;b<c.length;b++)if(!c[b].hasAttribute("data-js-sort-table")){c[b].tHead?a=c[b].tHead:(a=document.createElement("thead"),a.appendChild(c[b].rows[0]),c[b].insertBefore(a,c[b].children[0]));for(var d=0;d<a.rows.length;d++)for(var e=0,f=0;e<a.rows[d].cells.length;e++)a.rows[d].cells[e].addEventListener("click",function(a,b){return function(){sortTable(a,b)}}(c[b],f)),f+=a.rows[d].cells[e].colSpan;c[b].setAttribute("data-js-sort-table",
"true")}};window.addEventListener?window.addEventListener("load",sortTable.init,!1):window.attachEvent&&window.attachEvent("onload",sortTable.init);
